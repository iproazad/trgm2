<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>مترجم اللغات الفوري</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Step 1: Load Babel for in-browser TypeScript compilation -->
  <script src="https://unpkg.com/@babel/standalone@7.24.7/babel.min.js"></script>

  <!-- Step 2: Configure dependencies via Import Map -->
  <script type="importmap">
  {
    "imports": {
      "rxjs": "https://aistudiocdn.com/rxjs@^7.8.2?conditions=es2015",
      "rxjs/operators": "https://aistudiocdn.com/rxjs@^7.8.2/operators?conditions=es2015",
      "@angular/compiler": "https://next.esm.sh/@angular/compiler@^20.1.6-0?external=rxjs",
      "@angular/platform-browser": "https://next.esm.sh/@angular/platform-browser@^20.1.6-0?external=rxjs",
      "@angular/core": "https://next.esm.sh/@angular/core@^20.1.6-0?external=rxjs",
      "@angular/forms": "https://next.esm.sh/@angular/forms@^20.1.6-0?external=rxjs",
      "@angular/common": "https://next.esm.sh/@angular/common@^20.1.6-0?external=rxjs",
      "@google/genai": "https://next.esm.sh/@google/genai@^1.19.0?external=rxjs",
      
      "./gemini.service": "./src/gemini.service.ts"
    }
  }
  </script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-gray-900">
  <app-root>جاري تحميل المترجم...</app-root>

  <!-- Step 3: Bootstrap the Angular application using Babel -->
  <script type="text/babel" data-presets="typescript" data-type="module">
    import '@angular/compiler'; // Required for JIT compilation
    import { bootstrapApplication } from '@angular/platform-browser';
    import { provideZonelessChangeDetection } from '@angular/core';
    import { AppComponent } from './src/app.component.ts';

    bootstrapApplication(AppComponent, {
      providers: [
        provideZonelessChangeDetection(),
      ]
    }).catch(err => {
      console.error(err);
      document.querySelector('app-root').innerHTML = 'حدث خطأ أثناء تحميل التطبيق. يرجى التحقق من وحدة التحكم (console) لمزيد من التفاصيل.';
    });
  </script>
</body>
</html>